<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Update movie - MovieWeb App</title>
    </head>
    <body>
        <header>
            <nav>
                <a href="/add_user"> Add user </a>
                <a href="/add_movie"> Add movie </a>
            </nav>
            <h1>Update movie</h1>
        </header>
        {% if error %}
        <p>{{error}}</p>
        {% else %}
        <div class="form-container">
            <form action="{{ url_for('update_user_movie', update_user_id=movie_user.id_user, update_movie_id=movie_user.id)}}" method="POST">
                <!-- This tells Flask to treat it as a PUT request -->
                <input type="hidden" name="_method" value="PUT">  
                <label for="movie_name"> movie name: </label>
                <input type="text" value="{{movie_user.name}}" name="movie_name" id="movie_name"><br><br>
                <label for="movie_director">Director:</label>
                <input type="text" value="{{movie_user.director}}" name="movie_director" id="movie_director" required><br><br>
                <label for="movie_year">Year: </label>
                <input type="text" value="{{movie_user.year}}" name="movie_year" id="movie_year" placeholder="YYYY" pattern="\d{4}" maxlength="4" required><br><br>
                <label for="movie_rating">Rating: </label>
                <input type="range" value="{{movie_user.rating}}" name="movie_rating" id="movie_rating" min="0" max="10" step="0.1" oninput="rangeValue.innerText = this.value">
                <p id="rangeValue">{{movie_user.rating}}</p>
                <input type="submit" value="Update Movie">
            </form>
        </div>
        {% endif %}
    </body>
</html>